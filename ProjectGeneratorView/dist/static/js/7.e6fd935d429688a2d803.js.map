{"version":3,"sources":["webpack:///./src/api/customer.js","webpack:///./src/views/customer/index.vue?bd33","webpack:///./src/utils/validate.js","webpack:///./src/views/customer/index.vue?a391","webpack:///./src/views/customer/index.vue?4bf3","webpack:///src/views/customer/index.vue","webpack:///./src/views/customer/index.vue"],"names":["__webpack_require__","d","__webpack_exports__","getAllCustomers","addCustomer","updateCustomer","deleteCustomer","_utils_request__WEBPACK_IMPORTED_MODULE_0__","params","request","url","method","customer","data","customerId","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_2_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_20ba8d5c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","n","a","Yfch","e","t","o","isValidateRoleName","roleName","test","isValidatePhoneNumber","phoneNumber","isValidateBankAccount","bankAccount","isValidateIdCard","idCard","r","s","views_customervue_type_script_lang_js_","components","name","search","customerList","listLoading","total","listQuery","page","size","dialogStatus","dialogFormVisible","textMap","update","add","btnLoading","readonly","customerExist","tempCustomer","customerName","createRules","required","trigger","message","validator","rule","value","callback","Object","validate","b","Error","created","this","hasPermission","getAllCustomersList","methods","refresh","$message","success","_this","c","then","response","list","_this2","$refs","valid","returnCode","error","console","catch","_this3","_this4","$confirm","confirmButtonText","cancelButtonText","type","handleSizeChange","handleCurrentChange","showAddCustomerDialog","showUpdateCustomerDialog","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","icon","nativeOn","click","$event","preventDefault","_v","_e","offset","placeholder","model","$$v","expression","directives","rawName","modifiers","body","filter","toLowerCase","includes","element-loading-text","border","fit","highlight-current-row","label","align","sortable","prop","scopedSlots","_u","key","fn","scope","domProps","textContent","_s","row","current-page","page-size","page-sizes","background","layout","on","size-change","current-change","title","visible","update:visible","ref","staticStyle","width","margin-left","status-icon","label-position","label-width","rules","prefix-icon","auto-complete","$set","slot","float","resetFields","loading","default"],"mappings":"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","file":"static/js/7.e6fd935d429688a2d803.js","sourcesContent":["import request from '@/utils/request'\n\nexport function getAllCustomers(params) {\n  return request({\n    url: '/customer/listAllCustomers',\n    method: 'get',\n    params\n  })\n}\n\nexport function addCustomer(customer) {\n  return request({\n    url: '/customer/insert',\n    method: 'post',\n    data: customer\n  })\n}\n\nexport function updateCustomer(customer) {\n  return request({\n    url: '/customer/update',\n    method: 'post',\n    data: customer\n  })\n}\n\nexport function deleteCustomer(customerId) {\n  return request({\n    url: '/customer/deleteCustomerById',\n    method: 'get',\n    params: {customerId}\n  })\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=20ba8d5c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=20ba8d5c&scoped=true&lang=css&\"","/**\n * url地址\n * @param url\n * @returns {boolean}\n */\nexport function isValidateURL(url) {\n  const reg = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/\n  return reg.test(url)\n}\n\n/**\n * 小写字母\n * @param str\n * @returns {boolean}\n */\nexport function isValidateLowerCase(str) {\n  const reg = /^[a-z]+$/\n  return reg.test(str)\n}\n\n/**\n * 大写字母\n * @param str\n * @returns {boolean}\n */\nexport function isValidateUpperCase(str) {\n  const reg = /^[A-Z]+$/\n  return reg.test(str)\n}\n\n/**\n * 大小写字母\n * @param str\n * @returns {boolean}\n */\nexport function isValidateAlphabets(str) {\n  const reg = /^[A-Za-z]+$/\n  return reg.test(str)\n}\n\n/**\n * 邮箱\n * @param email\n * @returns {boolean}\n */\nexport function isValidateEmail(email) {\n  const reg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  return reg.test(email)\n}\n\n/**\n * 角色名\n * @param roleName\n * @returns {boolean}\n */\nexport function isValidateRoleName(roleName) {\n  const reg = /^ROLE_[A-Z]+$/\n  return reg.test(roleName)\n}\n\n/**\n *  验证电话号码\n * @param phoneNumber\n * @returns {boolean}\n */\nexport function isValidatePhoneNumber(phoneNumber) {\n  // const reg = /^1(3|4|5|7|8)\\d{9}$/\n  // return reg.test(phoneNumber)\n  return true;\n}\n\n/**\n *  验证银行账号\n * @param bankAccount\n * @returns {boolean}\n */\nexport function isValidateBankAccount(bankAccount) {\n  // const reg = /^1(3|4|5|7|8)\\d{9}$/\n  // return reg.test(phoneNumber)\n  return true\n}\n\n/**\n *  验证身份证号\n * @param idCard\n * @returns {boolean}\n */\nexport function isValidateIdCard(idCard) {\n  const reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\n  return reg.test(idCard);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-form',[_c('el-form-item',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[(_vm.hasPermission('customer:list'))?_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-refresh\",\"size\":\"medium\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.refresh($event)}}},[_vm._v(\"刷新\\n            \")]):_vm._e(),_vm._v(\" \"),(_vm.hasPermission('customer:insert'))?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"medium\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showAddCustomerDialog($event)}}},[_vm._v(\"新增\\n            \")]):_vm._e()],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"offset\":10}},[_c('el-input',{attrs:{\"size\":\"medium\",\"placeholder\":\"输入关键字搜索\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.customerList.filter(function (data) { return !_vm.search\n                  || data.customerName.toLowerCase().includes(_vm.search.toLowerCase())\n                  || data.idCard.includes(_vm.search)\n                  || data.bankAccount.includes(_vm.search)\n                  || data.phoneNumber.includes(_vm.search); }),\"element-loading-text\":\"全力加载中...\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"姓名\",\"align\":\"center\",\"sortable\":\"\",\"prop\":\"customerName\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(scope.row.customerName)}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"身份证号\",\"align\":\"center\",\"sortable\":\"\",\"prop\":\"idCard\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-document\"}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(scope.row.idCard)}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"银行账户\",\"align\":\"center\",\"sortable\":\"\",\"prop\":\"bankAccount\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-bank-card\"}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(scope.row.bankAccount)}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"联系方式\",\"align\":\"center\",\"sortable\":\"\",\"prop\":\"phoneNumber\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-mobile-phone\"}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(scope.row.phoneNumber)}})]}}])}),_vm._v(\" \"),(_vm.hasPermission('customer:update') || _vm.hasPermission('customer:delete'))?_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.hasPermission('customer:update'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit-outline circle\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showUpdateCustomerDialog(scope.row)}}},[_vm._v(\"更新\\n        \")]):_vm._e(),_vm._v(\" \"),(_vm.hasPermission('customer:delete'))?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.deleteCustomer(scope.row.customerName,scope.row.customerId)}}},[_vm._v(\"删除\\n        \")]):_vm._e()]}}])}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-size\":_vm.listQuery.size,\"total\":_vm.total,\"page-sizes\":[10, 30, 50, 100],\"background\":\"\",\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"tempCustomer\",staticClass:\"small-space\",staticStyle:{\"width\":\"500px\",\"margin-left\":\"40px\"},attrs:{\"status-icon\":\"\",\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.tempCustomer,\"rules\":_vm.createRules}},[_c('el-form-item',{attrs:{\"label\":\"客户姓名\",\"prop\":\"customerName\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"prefix-icon\":\"el-icon-info\",\"auto-complete\":\"off\",\"readonly\":_vm.readonly},model:{value:(_vm.tempCustomer.customerName),callback:function ($$v) {_vm.$set(_vm.tempCustomer, \"customerName\", $$v)},expression:\"tempCustomer.customerName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"身份证号\",\"prop\":\"idCard\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"prefix-icon\":\"el-icon-edit\",\"auto-complete\":\"off\",\"readonly\":_vm.readonly},model:{value:(_vm.tempCustomer.idCard),callback:function ($$v) {_vm.$set(_vm.tempCustomer, \"idCard\", $$v)},expression:\"tempCustomer.idCard\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"银行账户\",\"prop\":\"bankAccount\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"prefix-icon\":\"el-icon-edit-outline\",\"auto-complete\":\"off\",\"readonly\":_vm.readonly},model:{value:(_vm.tempCustomer.bankAccount),callback:function ($$v) {_vm.$set(_vm.tempCustomer, \"bankAccount\", $$v)},expression:\"tempCustomer.bankAccount\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"phoneNumber\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"prefix-icon\":\"el-icon-mobile-phone\",\"auto-complete\":\"off\",\"readonly\":_vm.readonly},model:{value:(_vm.tempCustomer.phoneNumber),callback:function ($$v) {_vm.$set(_vm.tempCustomer, \"phoneNumber\", $$v)},expression:\"tempCustomer.phoneNumber\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"icon\":\"el-icon-error\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.dialogStatus === 'add')?_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"danger\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$refs['tempCustomer'].resetFields()}}},[_vm._v(\"重置\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.dialogStatus === 'add')?_c('el-button',{attrs:{\"type\":\"success\",\"loading\":_vm.btnLoading,\"icon\":\"el-icon-success\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.addCustomer($event)}}},[_vm._v(\"添加\\n      \")]):_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading,\"icon\":\"el-icon-success\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.updateCustomer()}}},[_vm._v(\"更新\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-form>\n        <el-form-item>\n          <el-row :gutter=\"20\">\n            <el-col :span=\"6\">\n              <el-button type=\"success\" icon=\"el-icon-refresh\" size=\"medium\"\n                         v-if=\"hasPermission('customer:list')\"\n                         @click.native.prevent=\"refresh\">刷新\n              </el-button>\n              <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"medium\"\n                         v-if=\"hasPermission('customer:insert')\"\n                         @click.native.prevent=\"showAddCustomerDialog\">新增\n              </el-button>\n            </el-col>\n            <el-col :span=\"8\" :offset=\"10\">\n              <el-input\n                v-model=\"search\"\n                size=\"medium\"\n                placeholder=\"输入关键字搜索\"/>\n            </el-col>\n          </el-row>\n        </el-form-item>\n      </el-form>\n    </div>\n    <el-table :data=\"customerList.filter(data => !search\n                    || data.customerName.toLowerCase().includes(search.toLowerCase())\n                    || data.idCard.includes(search)\n                    || data.bankAccount.includes(search)\n                    || data.phoneNumber.includes(search))\"\n              v-loading.body=\"listLoading\"\n              element-loading-text=\"全力加载中...\"\n              border fit highlight-current-row>\n      <el-table-column label=\"姓名\" align=\"center\" sortable prop=\"customerName\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-user\"></i>\n          <span v-text=\"scope.row.customerName\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"身份证号\" align=\"center\" sortable prop=\"idCard\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-document\"></i>\n          <span v-text=\"scope.row.idCard\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"银行账户\" align=\"center\" sortable prop=\"bankAccount\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-bank-card\"></i>\n          <span v-text=\"scope.row.bankAccount\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"联系方式\" align=\"center\" sortable prop=\"phoneNumber\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-mobile-phone\"></i>\n          <span v-text=\"scope.row.phoneNumber\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\"\n                       v-if=\"hasPermission('customer:update') || hasPermission('customer:delete')\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-edit-outline circle\"\n                     v-if=\"hasPermission('customer:update')\"\n                     @click.native.prevent=\"showUpdateCustomerDialog(scope.row)\">更新\n          </el-button>\n          <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\"\n                     v-if=\"hasPermission('customer:delete')\"\n                     @click.native.prevent=\"deleteCustomer(scope.row.customerName,scope.row.customerId)\">删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pagination-container\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"listQuery.page\"\n        :page-size=\"listQuery.size\"\n        :total=\"total\"\n        :page-sizes=\"[10, 30, 50, 100]\"\n        background\n        layout=\"total, sizes, prev, pager, next, jumper\">\n      </el-pagination>\n    </div>\n\n    <el-dialog :title=\"textMap[dialogStatus]\"\n               :visible.sync=\"dialogFormVisible\">\n      <el-form status-icon class=\"small-space\" label-position=\"left\" label-width=\"100px\" style=\"width: 500px; margin-left:40px;\"\n               :model=\"tempCustomer\"\n               :rules=\"createRules\"\n               ref=\"tempCustomer\">\n        <el-form-item label=\"客户姓名\" prop=\"customerName\">\n          <el-input type=\"text\" prefix-icon=\"el-icon-info\" auto-complete=\"off\"\n                    :readonly=\"readonly\"\n                    v-model=\"tempCustomer.customerName\"/>\n        </el-form-item>\n        <el-form-item label=\"身份证号\" prop=\"idCard\">\n          <el-input type=\"text\" prefix-icon=\"el-icon-edit\" auto-complete=\"off\"\n                    :readonly=\"readonly\"\n                    v-model=\"tempCustomer.idCard\"/>\n        </el-form-item>\n        <el-form-item label=\"银行账户\" prop=\"bankAccount\">\n          <el-input type=\"text\" prefix-icon=\"el-icon-edit-outline\" auto-complete=\"off\"\n                    :readonly=\"readonly\"\n                    v-model=\"tempCustomer.bankAccount\"/>\n        </el-form-item>\n        <el-form-item label=\"联系电话\" prop=\"phoneNumber\">\n          <el-input type=\"text\" prefix-icon=\"el-icon-mobile-phone\" auto-complete=\"off\"\n                    :readonly=\"readonly\"\n                    v-model=\"tempCustomer.phoneNumber\"/>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\"\n                   icon=\"el-icon-error\" style=\"float:left\">取消</el-button>\n        <el-button type=\"danger\"\n                   v-if=\"dialogStatus === 'add'\"\n                   icon=\"el-icon-refresh\"\n                   style=\"float:left\"\n                   @click=\"$refs['tempCustomer'].resetFields()\">重置\n        </el-button>\n        <el-button type=\"success\"\n                   v-if=\"dialogStatus === 'add'\"\n                   :loading=\"btnLoading\"\n                   icon=\"el-icon-success\"\n                   @click.native.prevent=\"addCustomer\">添加\n        </el-button>\n        <el-button type=\"primary\"\n                   v-else\n                   :loading=\"btnLoading\"\n                   icon=\"el-icon-success\"\n                   @click.native.prevent=\"updateCustomer()\">更新\n        </el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport { getAllCustomers, addCustomer, updateCustomer, deleteCustomer } from '@/api/customer'\nimport { isValidateIdCard, isValidateBankAccount, isValidatePhoneNumber } from '@/utils/validate';\nimport { mapGetters } from 'vuex'\n\nexport default {\n  components: { },\n  name: 'CustomerList',\n//  components: { Pagination },\n  data() {\n    const validateIdCard = (rule, value, callback) => {\n      if (!isValidateIdCard(value)) {\n        callback(new Error('id card format error'))\n      } else {\n        callback()\n      }\n    };\n    const validateBankAccount = (rule, value, callback) => {\n      if (!isValidateBankAccount(value)) {\n        callback(new Error('bank account format error'))\n      } else {\n        callback()\n      }\n    };\n    const validatePhoneNumber = (rule, value, callback) => {\n      if (!isValidatePhoneNumber(value)) {\n        callback(new Error('phone number format error'))\n      } else {\n        callback()\n      }\n    };\n    return {\n      search: '',\n      customerList: [], // 客戶列表\n      listLoading: false, // 数据加载等待动画\n      total: 0, // 数据总数\n      listQuery: {\n        page: 1, // 页码\n        size: 10 // 每页数量\n      },\n      dialogStatus: 'add',\n      dialogFormVisible: false,\n      textMap: {\n        update: '更新客户信息',\n        add: '新增客户'\n      },\n      btnLoading: false, // 按钮等待动画\n      readonly: false, // 只读输入框\n      customerExist: false,\n      tempCustomer: {\n        customerId: '',\n        customerName: '',\n        idCard: '',\n        bankAccount: '',\n        phoneNumber: '',\n//        roleId: 2 // 对应后端数据库普通用户角色Id\n      },\n      createRules: {\n        customerName: [\n          {required: true, trigger: 'blur', message:\"请输入客户姓名\"}\n        ],\n        idCard: [\n          {required: true, trigger: 'blur', validator: validateIdCard}\n        ],\n        bankAccount: [\n          { required: true, trigger: 'blur', message:\"请输入客户银行账号\" }\n        ],\n        phoneNumber: [\n          { required: true, trigger: 'blur', message:\"请输入客户联系方式\" }\n        ]\n      }\n    };\n  },\n  created() {\n    if (this.hasPermission('customer:list')) {\n      this.getAllCustomersList()\n    }\n  },\n  methods: {\n    refresh(){\n      this.getAllCustomersList();\n      this.$message.success('已是最新');\n    },\n    getAllCustomersList() {\n      this.listLoading = true;\n      getAllCustomers(this.listQuery).then(response => {\n        this.customerList = response.data.list;\n        this.total = response.data.total;\n        this.listLoading = false;\n      })\n    },\n    addCustomer() {\n      this.$refs.tempCustomer.validate(valid => {\n        if (valid) {\n          this.btnLoading = true;\n          addCustomer(this.tempCustomer).then(response => {\n            if(response.returnCode === 200){\n              this.$message.success('录入客户信息成功');\n              this.getAllCustomersList();\n              this.dialogFormVisible = false;\n              this.btnLoading = false;\n            }else{\n              this.$message.error(response.message);\n              console.error(response);\n              this.btnLoading = false\n            }\n          }).catch(error => {\n            console.error(error);\n            this.btnLoading = false;\n          })\n        }\n      })\n    },\n    updateCustomer() {\n      this.$refs.tempCustomer.validate(valid => {\n        if (valid) {\n          this.btnLoading = true;\n          updateCustomer(this.tempCustomer).then(response => {\n            if (response.returnCode === 200) {\n              this.$message.success('更新客户信息成功！');\n              this.getAllCustomersList();\n              this.dialogFormVisible = false;\n              this.btnLoading = false;\n            } else {\n              this.$message.error(response.message);\n              console.error(response);\n              this.btnLoading = false;\n            }\n          }).catch(error => {\n            this.$message.error(error.message);\n            console.error(error);\n            this.btnLoading = false;\n          })\n        }\n      })\n    },\n    deleteCustomer(customerName, customerId) {\n      this.$confirm('您确认要删除客户 ' + customerName + ' 的信息吗?', 'Warning', {\n        confirmButtonText: '删除',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteCustomer(customerId).then(response => {\n          if (response.returnCode === 200) {\n            this.$message.success('删除客户信息成功！');\n            this.getAllCustomersList();\n          } else {\n            this.$message.error(response.message);\n            this.getAllCustomersList();\n          }\n        }).catch(error => {\n          this.$message.error(error.message);\n          console.error(error);\n        })\n      });\n    },\n    handleSizeChange(size) {\n      this.listQuery.size = size;\n      this.listQuery.page = 1;\n      this.getAllCustomersList()\n    },\n\n    handleCurrentChange(page) {\n      this.listQuery.page = page;\n      this.getAllCustomersList()\n    },\n\n    showAddCustomerDialog() {\n      // 显示新增对话框\n      this.dialogFormVisible = true;\n      this.dialogStatus = 'add';\n      this.tempCustomer.customerName = '';\n      this.tempCustomer.idCard = '';\n      this.tempCustomer.bankAccount = '';\n      this.tempCustomer.phoneNumber = '';\n      this.readonly = false;\n    },\n    showUpdateCustomerDialog(customer) {\n      // 显示更新对话框\n      this.dialogFormVisible = true;\n      this.dialogStatus = 'update';\n      this.tempCustomer.customerId = customer.customerId;\n      this.tempCustomer.customerName = customer.customerName;\n      this.tempCustomer.idCard = customer.idCard;\n      this.tempCustomer.bankAccount = customer.bankAccount;\n      this.tempCustomer.phoneNumber = customer.phoneNumber;\n    },\n  }\n};\n</script>\n\n<style scoped>\n  .pagination-container {\n    background: #fff;\n    padding: 20px 16px;\n  }\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=20ba8d5c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=20ba8d5c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20ba8d5c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}