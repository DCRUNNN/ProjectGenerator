(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{JNL0:function(t,e,r){"use strict";r.d(e,"d",function(){return o}),r.d(e,"e",function(){return s}),r.d(e,"f",function(){return a}),r.d(e,"a",function(){return i}),r.d(e,"h",function(){return c}),r.d(e,"b",function(){return l}),r.d(e,"c",function(){return u}),r.d(e,"g",function(){return p});var n=r("t3Un");function o(){return Object(n.a)({url:"/project/getAllProjects",method:"get"})}function s(t){return Object(n.a)({url:"/project/getProjectById",method:"get",params:{projectId:t}})}function a(t){return Object(n.a)({url:"/project/getProjectDetailById",method:"get",params:{projectId:t}})}function i(t){return Object(n.a)({url:"/project/insert",method:"post",data:t})}function c(t){return Object(n.a)({url:"/project/update",method:"post",data:t})}function l(t){return Object(n.a)({url:"/project/deleteProjectById",method:"get",params:{projectId:t}})}function u(t){return Object(n.a)({url:"/rateRange/deleteRateRange",method:"get",params:{rateRangeId:t}})}function p(t,e){return Object(n.a)({url:"/rateRange/getRateRange",method:"get",params:{projectId:t,investMoney:e}})}},"R/k2":function(t,e,r){"use strict";var n=r("Rj2O");r.n(n).a},Rj2O:function(t,e,r){},cHwr:function(t,e,r){"use strict";r.r(e);var n=r("JNL0"),o=(r("L2JU"),{components:{IconSvg:r("/2ew").a},name:"ProjectList",data:function(){return{projectList:[],listLoading:!1,total:0,listQuery:{page:1,size:10},customerExist:!1}},created:function(){this.hasPermission("project:list")&&this.getAllProjectsList()},methods:{refresh:function(){this.getAllProjectsList(),this.$message.success("已是最新")},getAllProjectsList:function(){var t=this;this.listLoading=!0,Object(n.d)().then(function(e){t.projectList=e.data,t.listLoading=!1}).catch(function(e){t.$message.error("无法获取项目列表"),console.error(e)})},deleteProject:function(t,e){var r=this;this.$confirm("确定要删除项目 "+t+" 吗?","Warning",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.b)(e).then(function(t){200===t.returnCode?(r.$message.success("删除成功！"),r.getAllProjectsList()):(r.$message.error(t.message),r.getAllProjectsList())}).catch(function(t){r.$message.error("删除失败"),r.$message.error(t)})})},handleSizeChange:function(t){this.listQuery.size=t,this.listQuery.page=1,this.getAllProjectsList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getAllProjectsList()}}}),s=(r("R/k2"),r("KHd+")),a=Object(s.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-form",[r("el-form-item",[t.hasPermission("project:list")?r("el-button",{attrs:{type:"success",icon:"el-icon-refresh"},nativeOn:{click:function(e){return e.preventDefault(),t.refresh(e)}}},[t._v("刷新\n        ")]):t._e(),t._v(" "),r("router-link",{attrs:{to:"/project/create/"}},[t.hasPermission("project:insert")?r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("\n            新增\n          ")]):t._e()],1)],1)],1)],1),t._v(" "),r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"mixin-components-container",attrs:{"element-loading-text":"全力加载中"}},[r("el-row",{attrs:{gutter:30}},t._l(t.projectList,function(e,n){return r("el-col",{key:n,attrs:{span:8}},[r("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"2px"},shadow:"hover"}},[r("div",{staticStyle:{padding:"16px"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-row",[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.projectName,placement:"bottom-start"}},[r("el-popover",{attrs:{placement:"top",title:"最新信息",trigger:"click",content:"总投资额：100万，投资人数：100人，人均投资：3元"}},[r("span",{staticClass:"truncation",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.projectName))])])],1),t._v(" "),r("router-link",{attrs:{to:"/phase/create/"+e.projectId}},[r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-star-on"}},[t._v("新建一期")])],1)],1)],1),t._v(" "),r("div",{staticClass:"info-item clearfix"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"总投资额：100万，投资人数：100人，人均投资：3元",placement:"bottom-start"}},[r("span",{staticClass:"info-truncation"},[t._v("总投资额：100万，投资人数：100人，人均投资：3元")])])],1),t._v(" "),r("div",{staticClass:"component-item bottom clearfix"},[r("el-row",{attrs:{gutter:6,type:"flex",justify:"space-around"}},[r("el-col",{attrs:{offset:4,span:3}},[r("router-link",{attrs:{to:"/project/detail/"+e.projectId}},[r("el-button",{attrs:{type:"text",icon:"el-icon-info"}},[t._v("详情")])],1)],1),t._v(" "),r("el-col",{attrs:{span:3}},[r("router-link",{attrs:{to:{name:"期数管理",params:{projectId:e.projectId}}}},[r("el-button",{attrs:{type:"text",icon:"el-icon-menu"}},[t._v("期数")])],1)],1),t._v(" "),t.hasPermission("project:update")?r("el-col",{attrs:{span:3}},[r("router-link",{attrs:{to:"/project/edit/"+e.projectId}},[r("el-button",{attrs:{type:"text",icon:"el-icon-edit"}},[t._v("编辑")])],1)],1):t._e(),t._v(" "),t.hasPermission("project:delete")?r("el-col",{attrs:{span:3}},[r("el-button",{attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(r){return r.preventDefault(),t.deleteProject(e.projectName,e.projectId)}}},[t._v("删除\n                  ")])],1):t._e()],1)],1)])]),t._v(" "),r("br")],1)}),1)],1)])},[],!1,null,"23686eba",null);e.default=a.exports}}]);
//# sourceMappingURL=10.a6174b3465c2f358d2a2.js.map