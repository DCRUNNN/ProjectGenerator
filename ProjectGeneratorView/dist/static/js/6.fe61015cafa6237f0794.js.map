{"version":3,"sources":["webpack:///./src/api/customer.js","webpack:///./src/views/customer/create.vue?8b19","webpack:///./src/utils/validate.js","webpack:///./src/views/customer/create.vue?b445","webpack:///src/views/customer/create.vue","webpack:///./src/views/customer/create.vue?7dae","webpack:///./src/views/customer/create.vue"],"names":["__webpack_require__","d","__webpack_exports__","getAllCustomers","addCustomer","updateCustomer","deleteCustomer","_utils_request__WEBPACK_IMPORTED_MODULE_0__","params","request","url","method","customer","data","customerId","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_2_node_modules_vue_loader_lib_index_js_vue_loader_options_create_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","n","a","Yfch","t","e","r","isValidateRoleName","roleName","test","isValidatePhoneNumber","phoneNumber","isValidateBankAccount","bankAccount","isValidateIdCard","idCard","o","s","u","defaultForm","customerName","customer_createvue_type_script_lang_js_","name","components","customerForm","assign_default","btnLoading","userListOptions","rules","required","message","trigger","validator","rule","value","callback","Object","validate","b","Error","computed","created","methods","form","_this","this","then","response","returnCode","$message","success","$router","push","path","error","catch","console","submitForm","_this2","$refs","valid","resetForm","formName","resetFields","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","offset","slot","_v","to","staticStyle","float","type","size","icon","ref","model","label-width","label","prop","$$v","$set","expression","on","click","$event","loading","default"],"mappings":"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","file":"static/js/6.fe61015cafa6237f0794.js","sourcesContent":["import request from '@/utils/request'\n\nexport function getAllCustomers(params) {\n  return request({\n    url: '/customer/listAllCustomers',\n    method: 'get',\n    params\n  })\n}\n\nexport function addCustomer(customer) {\n  return request({\n    url: '/customer/insert',\n    method: 'post',\n    data: customer\n  })\n}\n\nexport function updateCustomer(customer) {\n  return request({\n    url: '/customer/update',\n    method: 'post',\n    data: customer\n  })\n}\n\nexport function deleteCustomer(customerId) {\n  return request({\n    url: '/customer/deleteCustomerById',\n    method: 'get',\n    params: {customerId}\n  })\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&lang=css&\"","/**\n * url地址\n * @param url\n * @returns {boolean}\n */\nexport function isValidateURL(url) {\n  const reg = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/\n  return reg.test(url)\n}\n\n/**\n * 小写字母\n * @param str\n * @returns {boolean}\n */\nexport function isValidateLowerCase(str) {\n  const reg = /^[a-z]+$/\n  return reg.test(str)\n}\n\n/**\n * 大写字母\n * @param str\n * @returns {boolean}\n */\nexport function isValidateUpperCase(str) {\n  const reg = /^[A-Z]+$/\n  return reg.test(str)\n}\n\n/**\n * 大小写字母\n * @param str\n * @returns {boolean}\n */\nexport function isValidateAlphabets(str) {\n  const reg = /^[A-Za-z]+$/\n  return reg.test(str)\n}\n\n/**\n * 邮箱\n * @param email\n * @returns {boolean}\n */\nexport function isValidateEmail(email) {\n  const reg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  return reg.test(email)\n}\n\n/**\n * 角色名\n * @param roleName\n * @returns {boolean}\n */\nexport function isValidateRoleName(roleName) {\n  const reg = /^ROLE_[A-Z]+$/\n  return reg.test(roleName)\n}\n\n/**\n *  验证电话号码\n * @param phoneNumber\n * @returns {boolean}\n */\nexport function isValidatePhoneNumber(phoneNumber) {\n  // const reg = /^1(3|4|5|7|8)\\d{9}$/\n  // return reg.test(phoneNumber)\n  return true;\n}\n\n/**\n *  验证银行账号\n * @param bankAccount\n * @returns {boolean}\n */\nexport function isValidateBankAccount(bankAccount) {\n  // const reg = /^1(3|4|5|7|8)\\d{9}$/\n  // return reg.test(phoneNumber)\n  return true\n}\n\n/**\n *  验证身份证号\n * @param idCard\n * @returns {boolean}\n */\nexport function isValidateIdCard(idCard) {\n  const reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\n  return reg.test(idCard);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":18,\"offset\":3}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"录入客户信息\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":'/customer/index'}},[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"info\",\"size\":\"small\",\"icon\":\"el-icon-back\"}},[_vm._v(\"返回客户列表\")])],1)],1),_vm._v(\" \"),_c('el-form',{ref:\"customerForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.customerForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称\",\"prop\":\"customerName\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.customerForm.customerName),callback:function ($$v) {_vm.$set(_vm.customerForm, \"customerName\", $$v)},expression:\"customerForm.customerName\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"身份证号\",\"prop\":\"idCard\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.customerForm.idCard),callback:function ($$v) {_vm.$set(_vm.customerForm, \"idCard\", $$v)},expression:\"customerForm.idCard\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"银行卡号\",\"prop\":\"bankAccount\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.customerForm.bankAccount),callback:function ($$v) {_vm.$set(_vm.customerForm, \"bankAccount\", $$v)},expression:\"customerForm.bankAccount\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"phoneNumber\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.customerForm.phoneNumber),callback:function ($$v) {_vm.$set(_vm.customerForm, \"phoneNumber\", $$v)},expression:\"customerForm.phoneNumber\"}})],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.resetForm('customerForm')}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-success\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._v(\"保存\")])],1)],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-row>\n        <el-col :span=\"18\" :offset=\"3\">\n          <el-card>\n            <div slot=\"header\" class=\"clearfix\">\n              <span>录入客户信息</span>\n              <router-link :to=\"'/customer/index'\">\n                <el-button type=\"info\" size=\"small\" style=\"float:right;\" icon=\"el-icon-back\">返回客户列表</el-button>\n              </router-link>\n            </div>\n            <!--label-position=\"top\"-->\n            <el-form :model=\"customerForm\" :rules=\"rules\" ref=\"customerForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n              <el-form-item label=\"客户名称\" prop=\"customerName\">\n                <el-col :span=\"20\">\n                  <el-input type=\"text\" v-model=\"customerForm.customerName\"></el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"身份证号\" prop=\"idCard\">\n                <el-col :span=\"20\">\n                  <el-input type=\"text\" v-model=\"customerForm.idCard\"></el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"银行卡号\" prop=\"bankAccount\">\n                <el-col :span=\"20\">\n                  <el-input type=\"text\" v-model=\"customerForm.bankAccount\"></el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"联系电话\" prop=\"phoneNumber\">\n                <el-col :span=\"20\">\n                  <el-input type=\"text\" v-model=\"customerForm.phoneNumber\"></el-input>\n                </el-col>\n              </el-form-item>\n              <br>\n              <el-form-item>\n                <el-button type=\"warning\" icon=\"el-icon-refresh\" @click=\"resetForm('customerForm')\">重置</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-success\" :loading=\"btnLoading\" @click=\"submitForm()\">保存</el-button>\n              </el-form-item>\n            </el-form>\n          </el-card>\n        </el-col>\n      </el-row>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import { isValidateIdCard, isValidateBankAccount, isValidatePhoneNumber } from '@/utils/validate';\n  import { addCustomer } from '@/api/customer'\n\n  const defaultForm = {\n    customerId: '',\n    customerName: '',\n    idCard: '',\n    bankAccount: '',\n    phoneNumber: '',\n  };\n\n  export default {\n    name: 'CustomerDetail',\n    components: {},\n    data() {\n      const validateIdCard = (rule, value, callback) => {\n        if (!isValidateIdCard(value)) {\n          callback(new Error('id card format error'))\n        } else {\n          callback()\n        }\n      };\n      return {\n        customerId: '',\n        customerForm: Object.assign({}, defaultForm),\n        btnLoading: false,\n        userListOptions: [],\n        rules: {\n          customerName: [\n            { required: true, message: '请填写客户姓名', trigger: 'blur' }\n          ],\n          idCard: [\n            { required: true, trigger: 'blur', validator: validateIdCard }\n          ],\n          bankAccount: [\n            { required: true, trigger: 'blur', message:\"请输入客户银行账号\" }\n          ],\n          phoneNumber: [\n            { required: true, trigger: 'blur', message:\"请输入客户联系方式\" }\n          ]\n        },\n      }\n    },\n    computed: {\n    },\n    created() {\n\n    },\n    methods: {\n      addCustomer(form){\n        this.btnLoading = true;\n        addCustomer(form).then(response => {\n          if(response.returnCode === 200) {\n            this.$message.success('add success');\n            this.$router.push({path: '/customer/index'});\n            this.btnLoading = false;\n          }else{\n            this.$message.error(response.message);\n            this.btnLoading = false;\n          }\n        }).catch(error => {\n          console.error(error);\n          this.btnLoading = false;\n        })\n      },\n      submitForm() {\n        this.$refs.customerForm.validate(valid => {\n          if (valid) {\n            this.addCustomer(this.customerForm);\n          } else {\n            this.$message.error(\"请检查输入！\");\n            return false;\n          }\n        })\n      },\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      },\n    }\n  }\n</script>\n\n<style>\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n  .clearfix:after {\n    clear: both\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=6a011dec&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}