{"version":3,"sources":["webpack:///./src/api/project.js","webpack:///./src/views/project/index.vue?fba8","webpack:///./src/views/project/index.vue?a884","webpack:///./src/views/project/index.vue?6c48","webpack:///src/views/project/index.vue","webpack:///./src/views/project/index.vue"],"names":["__webpack_require__","d","__webpack_exports__","getAllProjects","getProjectById","getProjectDetailById","addProject","updateProject","deleteProject","deleteRateRange","getRateRange","_utils_request__WEBPACK_IMPORTED_MODULE_0__","request","url","method","projectId","params","project","data","rateRangeId","investMoney","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_2_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_23686eba_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","n","a","Rj2O","t","e","r","cHwr","views_projectvue_type_script_lang_js_","components","IconSvg","name","projectList","listLoading","total","listQuery","page","size","customerExist","created","this","hasPermission","getAllProjectsList","methods","refresh","$message","success","_this","Object","then","response","catch","error","console","projectName","_this2","$confirm","confirmButtonText","cancelButtonText","type","b","returnCode","message","handleSizeChange","handleCurrentChange","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","nativeOn","click","$event","preventDefault","_v","_e","to","directives","rawName","value","expression","element-loading-text","gutter","_l","index","key","span","body-style","padding","shadow","staticStyle","slot","effect","content","placement","title","trigger","_s","float","justify","offset","default"],"mappings":"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","file":"static/js/10.a6174b3465c2f358d2a2.js","sourcesContent":["import request from '@/utils/request'\n\nexport function getAllProjects() {\n  return request({\n    url: '/project/getAllProjects',\n    method: 'get'\n  })\n}\n\nexport function getProjectById(projectId) {\n  return request({\n    url: '/project/getProjectById',\n    method: 'get',\n    params: {projectId}\n  })\n}\n\nexport function getProjectDetailById(projectId) {\n  return request({\n    url: '/project/getProjectDetailById',\n    method: 'get',\n    params: {projectId}\n  })\n}\n\nexport function addProject(project) {\n  return request({\n    url: '/project/insert',\n    method: 'post',\n    data: project\n  })\n}\n\nexport function updateProject(project) {\n  return request({\n    url: '/project/update',\n    method: 'post',\n    data: project\n  })\n}\n\nexport function deleteProject(projectId) {\n  return request({\n    url: '/project/deleteProjectById',\n    method: 'get',\n    params: {projectId}\n  })\n}\n\nexport function deleteRateRange(rateRangeId) {\n  return request({\n    url: '/rateRange/deleteRateRange',\n    method: 'get',\n    params: {rateRangeId}\n  })\n}\n\nexport function getRateRange(projectId,investMoney) {\n  return request({\n    url: '/rateRange/getRateRange',\n    method: 'get',\n    params: {projectId,investMoney}\n  })\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=23686eba&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=23686eba&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-form',[_c('el-form-item',[(_vm.hasPermission('project:list'))?_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-refresh\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.refresh($event)}}},[_vm._v(\"刷新\\n        \")]):_vm._e(),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":'/project/create/'}},[(_vm.hasPermission('project:insert'))?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"}},[_vm._v(\"\\n            新增\\n          \")]):_vm._e()],1)],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticClass:\"mixin-components-container\",attrs:{\"element-loading-text\":\"全力加载中\"}},[_c('el-row',{attrs:{\"gutter\":30}},_vm._l((_vm.projectList),function(project,index){return _c('el-col',{key:index,attrs:{\"span\":8}},[_c('el-card',{staticClass:\"box-card\",attrs:{\"body-style\":{ padding: '2px' },\"shadow\":\"hover\"}},[_c('div',{staticStyle:{\"padding\":\"16px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-row',[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":project.projectName,\"placement\":\"bottom-start\"}},[_c('el-popover',{attrs:{\"placement\":\"top\",\"title\":\"最新信息\",\"trigger\":\"click\",\"content\":\"总投资额：100万，投资人数：100人，人均投资：3元\"}},[_c('span',{staticClass:\"truncation\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(_vm._s(project.projectName))])])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":'/phase/create/'+project.projectId}},[_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-star-on\"}},[_vm._v(\"新建一期\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"info-item clearfix\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"总投资额：100万，投资人数：100人，人均投资：3元\",\"placement\":\"bottom-start\"}},[_c('span',{staticClass:\"info-truncation\"},[_vm._v(\"总投资额：100万，投资人数：100人，人均投资：3元\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"component-item bottom clearfix\"},[_c('el-row',{attrs:{\"gutter\":6,\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-col',{attrs:{\"offset\":4,\"span\":3}},[_c('router-link',{attrs:{\"to\":'/project/detail/'+project.projectId}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-info\"}},[_vm._v(\"详情\")])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('router-link',{attrs:{\"to\":{name:'期数管理',params:{projectId:project.projectId}}}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-menu\"}},[_vm._v(\"期数\")])],1)],1),_vm._v(\" \"),(_vm.hasPermission('project:update'))?_c('el-col',{attrs:{\"span\":3}},[_c('router-link',{attrs:{\"to\":'/project/edit/'+project.projectId}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"}},[_vm._v(\"编辑\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.hasPermission('project:delete'))?_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.deleteProject(project.projectName,project.projectId);}}},[_vm._v(\"删除\\n                  \")])],1):_vm._e()],1)],1)])]),_vm._v(\" \"),_c('br')],1)}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-form>\n        <el-form-item>\n          <el-button type=\"success\" icon=\"el-icon-refresh\"\n                     v-if=\"hasPermission('project:list')\"\n                     @click.native.prevent=\"refresh\">刷新\n          </el-button>\n          <router-link :to=\"'/project/create/'\">\n            <el-button type=\"primary\" icon=\"el-icon-plus\" v-if=\"hasPermission('project:insert')\">\n              新增\n            </el-button>\n          </router-link>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"mixin-components-container\" v-loading=\"listLoading\" element-loading-text=\"全力加载中\">\n      <el-row :gutter=\"30\">\n        <el-col :span=\"8\" v-for=\"(project, index) in projectList\" :key=\"index\">\n          <el-card :body-style=\"{ padding: '2px' }\" class=\"box-card\" shadow=\"hover\">\n            <div style=\"padding: 16px;\">\n              <div slot=\"header\" class=\"clearfix\">\n                <el-row>\n                  <el-tooltip class=\"item\" effect=\"dark\" :content=\"project.projectName\" placement=\"bottom-start\">\n                    <el-popover\n                      placement=\"top\"\n                      title=\"最新信息\"\n                      trigger=\"click\"\n                      content=\"总投资额：100万，投资人数：100人，人均投资：3元\">\n                      <span class=\"truncation\" slot=\"reference\">{{project.projectName}}</span>\n                    </el-popover>\n                  </el-tooltip>\n                  <router-link :to=\"'/phase/create/'+project.projectId\">\n                    <el-button style=\"float: right; padding: 3px 0\" type=\"text\" icon=\"el-icon-star-on\">新建一期</el-button>\n                  </router-link>\n                </el-row>\n              </div>\n              <div class=\"info-item clearfix\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"总投资额：100万，投资人数：100人，人均投资：3元\" placement=\"bottom-start\">\n                  <span class=\"info-truncation\">总投资额：100万，投资人数：100人，人均投资：3元</span>\n                </el-tooltip>\n              </div>\n              <div class=\"component-item bottom clearfix\">\n                <el-row :gutter=\"6\" type=\"flex\" justify=\"space-around\" >\n                  <el-col :offset=\"4\" :span=\"3\">\n                    <router-link :to=\"'/project/detail/'+project.projectId\">\n                      <el-button type=\"text\" icon=\"el-icon-info\">详情</el-button>\n                    </router-link>\n                  </el-col>\n                  <el-col :span=\"3\">\n                    <router-link :to=\"{name:'期数管理',params:{projectId:project.projectId}}\">\n                      <el-button type=\"text\" icon=\"el-icon-menu\">期数</el-button>\n                    </router-link>\n                  </el-col>\n                  <el-col :span=\"3\" v-if=\"hasPermission('project:update')\">\n                    <router-link :to=\"'/project/edit/'+project.projectId\">\n                      <el-button type=\"text\" icon=\"el-icon-edit\" class=\"\">编辑</el-button>\n                    </router-link>\n                  </el-col>\n                  <el-col :span=\"3\" v-if=\"hasPermission('project:delete')\">\n                    <el-button type=\"text\" icon=\"el-icon-delete\"\n                               @click.native.prevent=\"deleteProject(project.projectName,project.projectId);\">删除\n                    </el-button>\n                  </el-col>\n                </el-row>\n              </div>\n            </div>\n          </el-card>\n          <br>\n        </el-col>\n      </el-row>\n    </div>\n\n    <!--<div class=\"pagination-container\">-->\n      <!--<el-pagination-->\n        <!--@size-change=\"handleSizeChange\"-->\n        <!--@current-change=\"handleCurrentChange\"-->\n        <!--:current-page=\"listQuery.page\"-->\n        <!--:page-size=\"listQuery.size\"-->\n        <!--:total=\"total\"-->\n        <!--:page-sizes=\"[10, 30, 50, 100]\"-->\n        <!--background-->\n        <!--layout=\"total, sizes, prev, pager, next, jumper\">-->\n      <!--</el-pagination>-->\n    <!--</div>-->\n\n    <!--<pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getAllCustomersList\" />-->\n  </div>\n</template>\n\n<style scoped>\n  .pagination-container {\n    background: #fff;\n    padding: 20px 16px;\n  }\n\n  .truncation {\n    display: inline-block;\n    width: 70%;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    white-space: nowrap;\n  }\n\n  .info-truncation {\n    display: inline-block;\n    font-size: 12px;\n    width: 100%;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    white-space: nowrap;\n  }\n\n  .bottom {\n    margin-top: 46px;\n    line-height: 12px;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    height: 160px;\n  }\n\n  .crop {\n    height: 280px;\n    width: 100%;\n    overflow: hidden;\n  }\n  .crop img{\n    height: 100%;\n    width: auto\n  }\n\n  .mixin-components-container {\n    /*background-color: #f0f2f5;*/\n    /*padding: 30px;*/\n    min-height: calc(100vh - 84px);\n  }\n\n  .component-item {\n    min-height: 100px;\n  }\n\n  .info-item {\n    margin-top: 15px;\n  }\n\n</style>\n\n<script>\n  import { getAllProjects, deleteProject } from '@/api/project'\n  import { mapGetters } from 'vuex'\n  import IconSvg from \"@/components/Icon-svg/index.vue\";\n\n  export default {\n    components: {\n      IconSvg\n    },\n    name: 'ProjectList',\n//  components: { Pagination },\n    data() {\n      return {\n        projectList: [], // 项目列表\n        listLoading: false, // 数据加载等待动画\n        total: 0, // 数据总数\n        listQuery: {\n          page: 1, // 页码\n          size: 10 // 每页数量\n        },\n        customerExist: false\n      };\n    },\n    created() {\n      if (this.hasPermission('project:list')) {\n        this.getAllProjectsList()\n      }\n    },\n    methods: {\n      refresh(){\n        this.getAllProjectsList();\n        this.$message.success('已是最新')\n      },\n      getAllProjectsList() {\n        this.listLoading = true;\n        getAllProjects().then(response => {\n          this.projectList = response.data;\n          this.listLoading = false;\n        }).catch(error => {\n          this.$message.error(\"无法获取项目列表\");\n          console.error(error);\n        });\n      },\n      deleteProject(projectName, projectId) {\n        this.$confirm('确定要删除项目 ' + projectName + ' 吗?', 'Warning', {\n          confirmButtonText: '删除',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          deleteProject(projectId).then(response => {\n            if (response.returnCode === 200) {\n              this.$message.success('删除成功！');\n              this.getAllProjectsList();\n            } else {\n              this.$message.error(response.message);\n              this.getAllProjectsList();\n            }\n          }).catch(error => {\n            this.$message.error(\"删除失败\");\n            this.$message.error(error);\n          })\n        });\n      },\n      handleSizeChange(size) {\n        this.listQuery.size = size;\n        this.listQuery.page = 1;\n        this.getAllProjectsList()\n      },\n      handleCurrentChange(page) {\n        this.listQuery.page = page;\n        this.getAllProjectsList();\n      }\n    }\n  };\n</script>\n\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=23686eba&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=23686eba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23686eba\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}