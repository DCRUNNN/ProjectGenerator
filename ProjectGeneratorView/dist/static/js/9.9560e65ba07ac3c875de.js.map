{"version":3,"sources":["webpack:///./src/views/file/upload2.vue?adbb","webpack:///./src/views/file/upload2.vue?9577","webpack:///src/views/file/upload2.vue","webpack:///./src/views/file/upload2.vue","webpack:///./src/api/file.js","webpack:///./src/views/file/upload2.vue?c34e"],"names":["n","i","file_upload2vue_type_script_lang_js_","data","fileList","uploadBTLoading","computed","methods","onUploadChange","file","this","beforeRemove","onFileExceed","files","$message","warning","length","submitUpload","_this","formData","FormData","index","append","raw","Object","d","then","response","returnCode","success","console","error","message","catch","component","componentNormalizer","a","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","drag","multiple","auto-upload","file-list","on-change","before-remove","limit","on-exceed","action","slot","size","type","icon","loading","on","click","__webpack_exports__","default","__webpack_require__","uploadSingleFile","uploadMultipleFile","getAllFiles","downloadFile","deleteFile","_utils_request__WEBPACK_IMPORTED_MODULE_0__","request","url","method","fileName","params","responseType","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_2_node_modules_vue_loader_lib_index_js_vue_loader_options_upload2_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","xdat","e","t"],"mappings":"oGAAA,IAAAA,EAAAC,EAAA,QCA6LC,cCqC7LC,KADA,WAEA,OACAC,YACAC,qBAGAC,YACAC,SACAC,eAAA,SAAAC,EAAAL,GACAM,KAAAN,YAEAO,aAAA,SAAAF,EAAAL,GACAM,KAAAN,YAEAQ,aAAA,SAAAC,EAAAT,GAIA,OAHAM,KAAAI,SAAAC,QACA,sBAAAF,EAAAG,OAAA,cACAH,EAAAG,OAAAZ,EAAAY,QAAA,YAGAC,aAAA,eAAAC,EAAAR,KACA,OAAAA,KAAAN,SAAAY,OAEA,OADAN,KAAAI,SAAAC,QAAA,kBAGAL,KAAAL,mBAEA,IADA,IAAAc,EAAA,IAAAC,SACAC,EAAA,EAAAA,EAAAX,KAAAN,SAAAY,OAAAK,IACAF,EAAAG,OAAA,QAAAZ,KAAAN,SAAAiB,GAAAE,KAEMC,OAAAf,EAAAgB,EAAAD,CAANL,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,YACAV,EAAAJ,SAAAe,QAAA,OAAAX,EAAAd,SAAAY,OAAA,OACAE,EAAAb,qBAEAyB,QAAAC,MAAAJ,GACAT,EAAAJ,SAAAiB,MAAAJ,EAAAK,SACAd,EAAAb,sBAEA4B,MAAA,SAAAF,GACAb,EAAAb,mBACAa,EAAAJ,SAAAiB,MAAA,QACAD,QAAAC,uCCvEAG,EAAgBV,OAAAW,EAAAC,EAAAZ,CACdtB,EHTF,WAA0B,IAAAmC,EAAA3B,KAAa4B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,qBAA+BL,EAAAM,GAAA,GAAAN,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,mBAA6BF,EAAA,aAAkBK,IAAA,kBAAAH,YAAA,cAAAI,OAAuDC,KAAA,GAAAC,SAAA,GAAAC,iBAAAC,YAAAb,EAAAjC,SAAA+C,YAAAd,EAAA7B,eAAA4C,gBAAAf,EAAA1B,aAAA0C,MAAA,EAAAC,YAAAjB,EAAAzB,aAAA2C,OAAA,OAA0Lf,EAAA,KAAUE,YAAA,mBAA6BL,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,oBAA8BL,EAAAO,GAAA,aAAAJ,EAAA,MAAAH,EAAAO,GAAA,YAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAAwEE,YAAA,iBAAAI,OAAoCU,KAAA,OAAaA,KAAA,QAAYnB,EAAAO,GAAA,+BAAAP,EAAAO,GAAA,KAAAJ,EAAA,MAAAH,EAAAO,GAAA,KAAAJ,EAAA,aAAyFM,OAAOW,KAAA,SAAAC,KAAA,UAAAC,KAAA,kBAAAC,QAAAvB,EAAAhC,iBAAwFwD,IAAKC,MAAAzB,EAAApB,gBAA0BoB,EAAAO,GAAA,sBACv9B,WAAoC,IAAaN,EAAb5B,KAAa6B,eAA0BC,EAAvC9B,KAAuC+B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,MAA5G9B,KAA4GkC,GAAA,iBGYhJ,KACA,KACA,MAIemB,EAAAC,QAAA9B,6CCnBf+B,EAAAxC,EAAAsC,EAAA,sBAAAG,IAAAD,EAAAxC,EAAAsC,EAAA,sBAAAI,IAAAF,EAAAxC,EAAAsC,EAAA,sBAAAK,IAAAH,EAAAxC,EAAAsC,EAAA,sBAAAM,IAAAJ,EAAAxC,EAAAsC,EAAA,sBAAAO,IAAA,IAAAC,EAAAN,EAAA,QAEO,SAASC,EAAiBzD,GAC/B,OAAO+D,aACLC,IAAK,mBACLC,OAAQ,OACRvE,KAAMM,IAIH,SAAS0D,EAAmB1D,GACjC,OAAO+D,aACLC,IAAK,4BACLC,OAAQ,OACRvE,KAAMM,IAIH,SAAS2D,IACd,OAAOI,aACLC,IAAK,uBACLC,OAAQ,QAIL,SAASL,EAAaM,GAC3B,OAAOH,aACLC,IAAK,sBACLC,OAAQ,MACRE,QAASD,YACTE,aAAc,SAGX,SAASP,EAAWK,GACzB,OAAOH,aACLC,IAAK,oBACLC,OAAQ,MACRE,QAASD,kDCrCb,IAAAG,EAAAb,EAAA,QAAAA,EAAAjE,EAAA8E,GAAwY1C,GAAA2C,KAAA,SAAAC,EAAAC,EAAAhF","file":"static/js/9.9560e65ba07ac3c875de.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('div',{staticClass:\"upload-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"upload-content\"},[_c('el-upload',{ref:\"uploadComponent\",staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"multiple\":\"\",\"auto-upload\":false,\"file-list\":_vm.fileList,\"on-change\":_vm.onUploadChange,\"before-remove\":_vm.beforeRemove,\"limit\":6,\"on-exceed\":_vm.onFileExceed,\"action\":\"#\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\",\"icon\":\"el-icon-upload2\",\"loading\":_vm.uploadBTLoading},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传文件\")])],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-header\"},[_c('h2',[_vm._v(\"上传文件\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <div class=\"upload-container\">\n        <div class=\"upload-header\">\n          <h2>上传文件</h2>\n        </div>\n        <div class=\"upload-content\">\n          <el-upload\n            class=\"upload-demo\"\n            ref=\"uploadComponent\"\n            drag multiple\n            :auto-upload=\"false\"\n            :file-list=\"fileList\"\n            :on-change=\"onUploadChange\"\n            :before-remove=\"beforeRemove\"\n            :limit=\"6\"\n            :on-exceed=\"onFileExceed\"\n            action=\"#\">\n            <i class=\"el-icon-upload\"></i>\n            <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n            <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div>\n          </el-upload>\n          <br>\n          <el-button size=\"middle\" type=\"primary\" icon=\"el-icon-upload2\" @click=\"submitUpload\"\n                     :loading=\"uploadBTLoading\">上传文件</el-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { uploadSingleFile , uploadMultipleFile } from '@/api/file'\n  import axios from 'axios';\n\n  export default {\n    data() {\n      return {\n        fileList: [],\n        uploadBTLoading: false,\n      }\n    },\n    computed: {},\n    methods: {\n      onUploadChange: function (file, fileList) {\n        this.fileList = fileList;\n      },\n      beforeRemove: function (file, fileList) {\n        this.fileList = fileList;\n      },\n      onFileExceed: function (files, fileList) {\n        this.$message.warning(\n            '当前限制选择 6 个文件，本次选择了 ' + files.length + ' 个文件，' +\n            '共选择了 ' + (files.length + fileList.length) + ' 个文件');\n        return false;\n      },\n      submitUpload: function () {\n        if (this.fileList.length === 0) {\n          this.$message.warning('请先选择要上传的文件哦');\n          return false;\n        }\n        this.uploadBTLoading = true;\n        let formData = new FormData();\n        for(let index = 0; index < this.fileList.length; index++) {\n          formData.append(\"files\", this.fileList[index].raw);\n        }\n        uploadMultipleFile(formData).then(response => {\n          if(response.returnCode === 200) {\n            this.$message.success(\"成功上传\"+ this.fileList.length + \"个文件\");\n            this.uploadBTLoading = false;\n          }else{\n            console.error(response);\n            this.$message.error(response.message);\n            this.uploadBTLoading = false;\n          }\n        }).catch(error => {\n          this.uploadBTLoading = false;\n          this.$message.error(\"上传失败\");\n          console.error(error);\n        })\n      }\n    }\n  };\n</script>\n\n<style>\n  /** {*/\n  /*-webkit-box-sizing: border-box;*/\n  /*-moz-box-sizing: border-box;*/\n  /*box-sizing: border-box;*/\n  /*}*/\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 400;\n    font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n    font-size: 1rem;\n    line-height: 1.58;\n    color: #333;\n    /*background-color: #f4f4f4;*/\n  }\n\n  body:before {\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    /*background: #128ff2;*/\n    content: \"\";\n    z-index: 0;\n  }\n\n  .clearfix:after {\n    display: block;\n    content: \"\";\n    clear: both;\n  }\n\n  h1, h2, h3, h4, h5, h6 {\n    margin-top: 20px;\n    margin-bottom: 20px;\n  }\n\n  h1 {\n    font-size: 1.7em;\n  }\n\n  a {\n    color: #128ff2;\n  }\n\n  button {\n    box-shadow: none;\n    border: 1px solid transparent;\n    font-size: 14px;\n    outline: none;\n    line-height: 100%;\n    white-space: nowrap;\n    vertical-align: middle;\n    padding: 0.6rem 1rem;\n    border-radius: 2px;\n    transition: all 0.2s ease-in-out;\n    cursor: pointer;\n    min-height: 38px;\n  }\n\n  button.primary {\n    background-color: #128ff2;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.12);\n    color: #fff;\n  }\n\n  input {\n    font-size: 1rem;\n  }\n\n  input[type=\"file\"] {\n    border: 1px solid #128ff2;\n    padding: 6px;\n    max-width: 100%;\n  }\n\n  .file-input {\n    width: 100%;\n  }\n\n  .submit-btn {\n    display: block;\n    margin-top: 15px;\n    min-width: 100px;\n  }\n\n  @media screen and (min-width: 500px) {\n    .file-input {\n      width: calc(100% - 115px);\n    }\n\n    .submit-btn {\n      display: inline-block;\n      margin-top: 0;\n      margin-left: 10px;\n    }\n  }\n\n  .upload-container {\n    max-width: 80%;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: #fff;\n    box-shadow: 0 1px 11px rgba(0, 0, 0, 0.27);\n    margin-top: 2%;\n    min-height: 400px;\n    position: relative;\n    padding: 20px;\n  }\n\n  .el-upload {\n    width: 60%;\n    height: 200px;\n    margin-left: 20%\n  }\n\n  .el-upload-dragger {\n    width: 100%;\n    height: 100%;\n  }\n\n  .upload-header {\n    border-bottom: 1px solid #ececec;\n  }\n\n  .upload-header h2 {\n    font-weight: 500;\n  }\n\n  .single-upload {\n    padding-bottom: 20px;\n    margin-bottom: 20px;\n    border-bottom: 1px solid #e8e8e8;\n  }\n\n</style>\n\n","import { render, staticRenderFns } from \"./upload2.vue?vue&type=template&id=a1a5d592&\"\nimport script from \"./upload2.vue?vue&type=script&lang=js&\"\nexport * from \"./upload2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload2.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\nexport function uploadSingleFile(file) {\n  return request({\n    url: '/file/uploadFile',\n    method: 'post',\n    data: file\n  })\n}\n\nexport function uploadMultipleFile(file) {\n  return request({\n    url: '/file/uploadMultipleFiles',\n    method: 'post',\n    data: file\n  })\n}\n\nexport function getAllFiles() {\n  return request({\n    url: '/file/getAllFileList',\n    method: 'get'\n  })\n}\n\nexport function downloadFile(fileName) {\n  return request({\n    url: '/file/downloadFile/',\n    method: 'get',\n    params: {fileName},\n    responseType: 'blob'\n  })\n}\nexport function deleteFile(fileName) {\n  return request({\n    url: '/file/deleteFile/',\n    method: 'get',\n    params: {fileName}\n  })\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}